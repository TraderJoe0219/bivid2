# ãƒã‚±ãƒƒãƒˆ #006: ç®¡ç†è€…ãƒ»é‹å–¶æ©Ÿèƒ½

**å„ªå…ˆåº¦**: ä¸­  
**æ‹…å½“è€…**: æœªå®š  
**äºˆæƒ³å·¥æ•°**: 10-12æ—¥  
**ä¾å­˜é–¢ä¿‚**: #001-#005 (å…¨åŸºæœ¬æ©Ÿèƒ½)

## ğŸ“‹ æ¦‚è¦
ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é‹å–¶ã®ãŸã‚ã®ç®¡ç†è€…æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç›£è¦–ã€å£²ä¸Šç®¡ç†ã€ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’æä¾›ã€‚

## ğŸ¯ å—ã‘å…¥ã‚Œæ¡ä»¶

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãƒ»æ¤œç´¢æ©Ÿèƒ½
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°æƒ…å ±è¡¨ç¤º
- [ ] ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹åŒ–ãƒ»ç„¡åŠ¹åŒ–
- [ ] èº«å…ƒç¢ºèªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
- [ ] åˆ©ç”¨åœæ­¢ãƒ»é€€ä¼šå‡¦ç†
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆåˆ†æ

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†
- [ ] ã‚¹ã‚­ãƒ«ãƒ»æ´»å‹•ã®æ‰¿èªãƒ»å´ä¸‹
- [ ] ä¸é©åˆ‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç›£è¦–ãƒ»å‰Šé™¤
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç›£è¦–
- [ ] å ±å‘Šã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç¢ºèª
- [ ] ã‚«ãƒ†ã‚´ãƒªãƒ»ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç†

### å£²ä¸Šãƒ»å–å¼•ç®¡ç†
- [ ] å–å¼•å±¥æ­´ã®ç›£è¦–
- [ ] å£²ä¸Šçµ±è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
- [ ] è¿”é‡‘ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†
- [ ] æ‰‹æ•°æ–™è¨­å®šç®¡ç†
- [ ] ç¨å‹™é–¢é€£ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›

### ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ
- [ ] å•ã„åˆã‚ã›ç®¡ç†
- [ ] ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆæ©Ÿèƒ½
- [ ] FAQç®¡ç†
- [ ] ç·Šæ€¥æ™‚å¯¾å¿œãƒ•ãƒ­ãƒ¼
- [ ] é‹å–¶é€šçŸ¥æ©Ÿèƒ½

## ğŸ“ è©³ç´°ä»•æ§˜

### ç®¡ç†è€…æ¨©é™ãƒ¬ãƒ™ãƒ«
```typescript
enum AdminRole {
  SUPER_ADMIN = 'super_admin',     // å…¨æ¨©é™
  CONTENT_MODERATOR = 'moderator', // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†
  CUSTOMER_SUPPORT = 'support',    // ã‚µãƒãƒ¼ãƒˆæ¥­å‹™
  FINANCE_MANAGER = 'finance',     // å£²ä¸Šãƒ»è²¡å‹™ç®¡ç†
  READ_ONLY = 'readonly'          // é–²è¦§ã®ã¿
}

interface AdminPermissions {
  users: {
    read: boolean
    create: boolean
    update: boolean
    delete: boolean
    suspend: boolean
  }
  content: {
    approve: boolean
    moderate: boolean
    delete: boolean
    edit: boolean
  }
  finance: {
    viewTransactions: boolean
    processRefunds: boolean
    generateReports: boolean
    manageSettings: boolean
  }
  support: {
    viewTickets: boolean
    respondToTickets: boolean
    escalateIssues: boolean
  }
}
```

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
- **KPIè¡¨ç¤º**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã€æ–°è¦ç™»éŒ²æ•°ã€å–å¼•é¡
- **ã‚¢ãƒ©ãƒ¼ãƒˆ**: ç·Šæ€¥å¯¾å¿œæ¡ˆä»¶ã€ç•°å¸¸ãªã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£
- **ã‚°ãƒ©ãƒ•**: åˆ©ç”¨çŠ¶æ³ãƒˆãƒ¬ãƒ³ãƒ‰ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥çµ±è¨ˆ
- **ToDoãƒªã‚¹ãƒˆ**: æœªå‡¦ç†ã®æ‰¿èªãƒ»å¯¾å¿œæ¡ˆä»¶

## ğŸ›  æŠ€è¡“ä»•æ§˜

### ä½¿ç”¨æŠ€è¡“
- **èªè¨¼**: Firebase Auth (ç®¡ç†è€…å°‚ç”¨)
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: React + Chart.js/Recharts
- **ãƒ‡ãƒ¼ã‚¿åˆ†æ**: Google Analytics + BigQuery
- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: PDFç”Ÿæˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **ç›£è¦–**: Cloud Logging + Cloud Monitoring

### API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- `GET /api/admin/dashboard` - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
- `GET /api/admin/users` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- `PUT /api/admin/users/[id]/status` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
- `GET /api/admin/content/pending` - æ‰¿èªå¾…ã¡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- `POST /api/admin/content/[id]/approve` - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‰¿èª
- `GET /api/admin/reports/sales` - å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆ
- `GET /api/admin/support/tickets` - ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆ
- `POST /api/admin/notifications` - é‹å–¶é€šçŸ¥é€ä¿¡

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
```typescript
interface AdminUser {
  id: string
  email: string
  displayName: string
  role: AdminRole
  permissions: AdminPermissions
  lastLoginAt: Timestamp
  createdAt: Timestamp
  isActive: boolean
}

interface SupportTicket {
  id: string
  userId: string
  category: 'technical' | 'payment' | 'safety' | 'other'
  priority: 'low' | 'medium' | 'high' | 'critical'
  subject: string
  description: string
  status: 'open' | 'in_progress' | 'resolved' | 'closed'
  assignedTo?: string
  responses: {
    message: string
    authorId: string
    authorType: 'user' | 'admin'
    createdAt: Timestamp
  }[]
  createdAt: Timestamp
  updatedAt: Timestamp
  resolvedAt?: Timestamp
}

interface ContentModerationQueue {
  id: string
  contentType: 'skill' | 'review' | 'message' | 'user_profile'
  contentId: string
  reportReason?: string
  reporterId?: string
  status: 'pending' | 'approved' | 'rejected' | 'flagged'
  moderatorId?: string
  moderatorNotes?: string
  autoFlags: string[]
  createdAt: Timestamp
  moderatedAt?: Timestamp
}
```

## ğŸ¨ UI/UXè¦ä»¶

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¨­è¨ˆ
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã•ã‚Œã‚‹çµ±è¨ˆè¡¨ç¤º
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»é€šçŸ¥ã®å„ªå…ˆè¡¨ç¤º
- [ ] ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- [ ] ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

### ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- [ ] ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ä»˜ããƒ†ãƒ¼ãƒ–ãƒ«
- [ ] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
- [ ] ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- [ ] è©³ç´°æ¤œç´¢æ©Ÿèƒ½

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- [ ] æ‰¿èªãƒ»å´ä¸‹ã®ç†ç”±å…¥åŠ›
- [ ] ä¸€æ‹¬å‡¦ç†æ©Ÿèƒ½
- [ ] ä½œæ¥­å±¥æ­´ã®è¨˜éŒ²
- [ ] å¼•ãç¶™ããƒ¡ãƒ¢æ©Ÿèƒ½

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

### ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- [ ] å¤šè¦ç´ èªè¨¼å¿…é ˆ
- [ ] IPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- [ ] æ“ä½œãƒ­ã‚°è¨˜éŒ²
- [ ] å®šæœŸçš„ãªã‚¢ã‚¯ã‚»ã‚¹æ¨©è¦‹ç›´ã—

### ç›£æŸ»æ©Ÿèƒ½
- [ ] å…¨æ“ä½œã®ãƒ­ã‚°è¨˜éŒ²
- [ ] é‡è¦æ“ä½œã®æ‰¿èªãƒ•ãƒ­ãƒ¼
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®è¿½è·¡
- [ ] ç•°å¸¸ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®æ¤œçŸ¥

## ğŸ§ª ãƒ†ã‚¹ãƒˆé …ç›®

### å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] æ¨©é™ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- [ ] ãƒ‡ãƒ¼ã‚¿é›†è¨ˆæ©Ÿèƒ½
- [ ] ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆæ©Ÿèƒ½

### çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] å„ç¨®APIé€£æº
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
- [ ] é€šçŸ¥æ©Ÿèƒ½

### E2Eãƒ†ã‚¹ãƒˆ
- [ ] ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼
- [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‰¿èªãƒ•ãƒ­ãƒ¼
- [ ] ã‚µãƒãƒ¼ãƒˆãƒã‚±ãƒƒãƒˆå‡¦ç†
- [ ] ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] æ¨©é™æ˜‡æ ¼æ”»æ’ƒå¯¾ç­–
- [ ] ãƒ‡ãƒ¼ã‚¿æ¼æ´©é˜²æ­¢
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ dashboard/page.tsx
â”‚   â”‚   â”œâ”€â”€ users/page.tsx
â”‚   â”‚   â”œâ”€â”€ content/page.tsx
â”‚   â”‚   â”œâ”€â”€ reports/page.tsx
â”‚   â”‚   â””â”€â”€ support/page.tsx
â”‚   â””â”€â”€ api/admin/
â”œâ”€â”€ components/admin/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ KPICard.tsx
â”‚   â”‚   â”œâ”€â”€ ActivityChart.tsx
â”‚   â”‚   â””â”€â”€ AlertPanel.tsx
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ UserTable.tsx
â”‚   â”‚   â””â”€â”€ UserDetailModal.tsx
â”‚   â”œâ”€â”€ content/
â”‚   â”‚   â”œâ”€â”€ ModerationQueue.tsx
â”‚   â”‚   â””â”€â”€ ContentReviewCard.tsx
â”‚   â””â”€â”€ support/
â”‚       â”œâ”€â”€ TicketList.tsx
â”‚       â””â”€â”€ TicketDetail.tsx
â”œâ”€â”€ hooks/admin/
â”‚   â”œâ”€â”€ useAdminDashboard.ts
â”‚   â”œâ”€â”€ useUserManagement.ts
â”‚   â””â”€â”€ useContentModeration.ts
â””â”€â”€ lib/admin/
    â”œâ”€â”€ permissions.ts
    â”œâ”€â”€ reporting.ts
    â””â”€â”€ moderation.ts
```

## ğŸ”„ é€²æ—çŠ¶æ³
- [ ] è¦ä»¶åˆ†æå®Œäº†
- [ ] æ¨©é™ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½
- [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†æ©Ÿèƒ½
- [ ] ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚µãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
- [ ] ç®¡ç†è€…ç ”ä¿®è³‡æ–™ä½œæˆ
- [ ] é‹ç”¨ãƒ•ãƒ­ãƒ¼æ•´å‚™

## ğŸ“Š ãƒ¬ãƒãƒ¼ãƒˆãƒ»åˆ†ææ©Ÿèƒ½

### å®šæœŸãƒ¬ãƒãƒ¼ãƒˆ
- [ ] æ—¥æ¬¡ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆ
- [ ] é€±æ¬¡å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆ
- [ ] æœˆæ¬¡ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆ
- [ ] å››åŠæœŸæ¥­ç¸¾ã‚µãƒãƒªãƒ¼

### ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆ
- [ ] æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆ
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æ
- [ ] åœ°åŸŸåˆ¥çµ±è¨ˆ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ

### ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- [ ] CSVå½¢å¼ã§ã®ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›
- [ ] PDFå½¢å¼ã®ãƒ¬ãƒãƒ¼ãƒˆ
- [ ] ç¨å‹™ç”³å‘Šç”¨ãƒ‡ãƒ¼ã‚¿
- [ ] ç›£æŸ»ç”¨ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿

## ğŸ“ å‚™è€ƒ
- ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆãƒ»ç®¡ç†ã¯åˆæœŸæ®µéšã§æ‰‹å‹•é‹ç”¨
- é‡è¦ãªæ“ä½œï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆåœæ­¢ç­‰ï¼‰ã¯è¤‡æ•°äººæ‰¿èªåˆ¶ã‚’æ¤œè¨
- å€‹äººæƒ…å ±ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯æœ€å°é™ã«åˆ¶é™
- å®šæœŸçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã®å®Ÿæ–½
- ç®¡ç†è€…å‘ã‘ã®æ“ä½œãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ»ç ”ä¿®ãŒå¿…è¦
- B2Bé¡§å®¢å‘ã‘ã®ç®¡ç†ç”»é¢ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œ